(function(b){var d=function(h){var g=/^(-{0,1}\d+)px$/;if(h==="full"){return b("body").innerWidth()}else{if(b.isNumeric(h)){if(h<0){return b("body").innerWidth()+h}else{return h}}else{if(g.test(h)){var e=g.exec(h),f=e[1];if(f<0){return b("body").innerWidth()+parseInt(f,10)}else{return f}}else{return false}}}};var c=function(f){var e;if(b("#__slide_modal_background").length===0){e=b('<div id="__slide_modal_background"></div>').css({position:"absolute","z-index":f["z-index"],top:0,left:0,width:b("body").innerWidth(),height:b("body").innerHeight(),opacity:0.8,background:"#fff",display:"none"}).appendTo(b("body"))}else{e=b("#__slide_modal_background")}return e};var a={init:function(e){var f=b.extend({before_open:null,after_open:null,before_close:null,after_close:null,"z-index":1000,width:300,opacity:1,direction:"left",autoOpen:false,modal_class:"__slide_modal_window",container:"body"},e);f.modal_background=c({"z-index":(f["z-index"]-1)});return this.each(function(){var h=b(this),g=h.data("slidemodal");if(!g){g=b.extend(f,g);h.data("slidemodal",g);h.addClass(g.modal_class).css({"z-index":g["z-index"],position:"fixed",top:"0px",left:"0px",background:"#fff",display:"none",opacity:g.opacity})}})},open:function(){return this.each(function(){var j=b(this),i=b(this).data("slidemodal"),e=b("body").innerWidth(),k=b("body").innerHeight(),g=d(i.width),h=(e-g);if(j.hasClass("slide_modal_open")){return}var f=function(){j.css({width:g,height:k,"overflow-y":"scroll",left:e+"px",opacity:i.opacity,"box-shadow":"-2px 0px 5px #eee","-moz-box-shadow":"-2px 0px 5px #eee","-webkit-box-shadow":"-2px 0px 5px #eee"}).show(50,function(){setTimeout(function(){j.animate({left:h+"px"},function(){j.addClass("slide_modal_open");b(window).bind("resize.slidemodal",b.proxy(a.resize,j));b(i.container).bind("click.slidemodal",function(l){b(this).stop(true,true);if(l.target!==j[0]){j.slide_modal("close")}l.preventDefault()})})},0)})};if(!i.modal_background.hasClass("open")){i.modal_background.fadeIn(200,f)}else{f()}})},close:function(){return this.each(function(){var g=b(this),f=g.data("slidemodal"),e=b("body").innerWidth();b(f.container).unbind("click.slidemodal");if(g.hasClass("slide_modal_open")){if(typeof f.after_close==="function"){f.before_close(g)}setTimeout(function(){g.removeClass("slide_modal_open").animate({left:e+"px"},function(){b(window).unbind("resize.slidemodal",a.resize);g.hide(5,function(){if(b("."+f.modal_class).length===1){f.modal_background.fadeOut(200)}if(typeof f.before_close==="function"){f.after_close(g)}})})},0)}})},resize:function(){return this.each(function(){var h=b(this),g=b(this).data("slidemodal"),e=b("body").innerWidth(),i=b("body").innerHeight(),f=d(g.width);h.css({width:f,height:i,left:(e-f)+"px"})})},disable:function(){},enable:function(){},destroy:function(){return this.each(function(){var f=b(this),e=b(this).data("slidemodal");b(window).unbind(".slidemodal");f.removeData("slidemodal")})},option:function(e){return this.each(function(){var g=b(this),f=g.data("slidemodal");f=b.extend(f,e);g.data("slidemodal",f)})}};b.fn.slide_modal=function(e){if(a[e]){return a[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof(e)==="object"||!e){return a.init.apply(this,arguments)}else{b.error("Method "+e+" does not exist in jquery.slide_modal.");return this}}}})(jQuery);